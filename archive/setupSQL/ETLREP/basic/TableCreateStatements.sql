create table META_DATABASES (
    USERNAME varchar(30) , 
    VERSION_NUMBER varchar(32) not null,
    TYPE_NAME varchar(15) not null, 
    CONNECTION_ID numeric(31) not null,
    CONNECTION_NAME varchar(30) not null,  
    CONNECTION_STRING varchar(200) not null,
    PASSWORD varchar(30) , 
    DESCRIPTION varchar(32000) , 
    DRIVER_NAME varchar(100) not null,
    DB_LINK_NAME varchar(128));
    
alter table public.META_DATABASES
    add primary key (VERSION_NUMBER, CONNECTION_ID);
    
create table META_COLLECTION_SETS (
	COLLECTION_SET_ID numeric(31) not null,
	COLLECTION_SET_NAME varchar(128) not null,
	DESCRIPTION varchar(32000) ,
	VERSION_NUMBER varchar(32) not null,
	ENABLED_FLAG varchar(1) ,
	TYPE varchar(32) 
);

alter table META_COLLECTION_SETS
    add primary key (COLLECTION_SET_ID, VERSION_NUMBER);
       
CREATE TABLE Meta_collections ( 
	COLLECTION_ID BIGINT  ,
	COLLECTION_NAME VARCHAR(31) ,
	COLLECTION VARCHAR(31) ,
	MAIL_ERROR_ADDR VARCHAR(31) ,
	MAIL_FAIL_ADDR VARCHAR(31) ,
	MAIL_BUG_ADDR VARCHAR(31) ,
	MAX_ERRORS BIGINT  ,
	MAX_FK_ERRORS BIGINT  ,
	MAX_COL_LIMIT_ERRORS BIGINT  ,
	CHECK_FK_ERROR_FLAG VARCHAR(31) ,
	CHECK_COL_LIMITS_FLAG VARCHAR(31) ,
	LAST_TRANSFER_DATE TIMESTAMP  ,
	VERSION_NUMBER VARCHAR(31) ,
	COLLECTION_SET_ID BIGINT  ,
	USE_BATCH_ID VARCHAR(31) ,
	PRIORITY BIGINT  ,
	QUEUE_TIME_LIMIT BIGINT  ,
	ENABLED_FLAG VARCHAR(31) ,
	SETTYPE VARCHAR(31) ,
	FOLDABLE_FLAG VARCHAR(31) ,
	MEASTYPE VARCHAR(31) ,
	HOLD_FLAG VARCHAR(31) ,
	SCHEDULING_INFO VARCHAR(31)
);

CREATE TABLE Meta_schedulings ( 
	VERSION_NUMBER VARCHAR(31)  ,
	ID BIGINT  ,
	EXECUTION_TYPE VARCHAR(31) ,
	OS_COMMAND VARCHAR(31) ,
	SCHEDULING_MONTH BIGINT  ,
	SCHEDULING_DAY BIGINT  ,
	SCHEDULING_HOUR BIGINT  ,
	SCHEDULING_MIN BIGINT  ,
	COLLECTION_SET_ID BIGINT  ,
	COLLECTION_ID BIGINT  ,
	MON_FLAG VARCHAR(31) ,
	TUE_FLAG VARCHAR(31) ,
	WED_FLAG VARCHAR(31) ,
	THU_FLAG VARCHAR(31) ,
	FRI_FLAG VARCHAR(31) ,
	SAT_FLAG VARCHAR(31) ,
	SUN_FLAG VARCHAR(31) ,
	STATUS VARCHAR(31) ,
	LAST_EXECUTION_TIME TIMESTAMP  ,
	INTERVAL_HOUR BIGINT  ,
	INTERVAL_MIN BIGINT  ,
	NAME VARCHAR(31) ,
	HOLD_FLAG VARCHAR(31) ,
	PRIORITY BIGINT  ,
	SCHEDULING_YEAR BIGINT  ,
	TRIGGER_COMMAND VARCHAR(31) ,
	LAST_EXEC_TIME_MS BIGINT
);

create table META_TRANSFER_BATCHES (
    ID tinyint , 
    START_DATE TIMESTAMP ,
    END_DATE TIMESTAMP , 
    FAIL_FLAG varchar(31) not null,
    STATUS varchar(31) not null,
    VERSION_NUMBER varchar(31) not null,  
    COLLECTION_SET_ID numeric(31) not null,
    COLLECTION_ID numeric(31) , 
    META_COLLECTION_NAME varchar(31) , 
    META_COLLECTION_SET_NAME varchar(31) not null,
    SETTYPE varchar(31),
    SLOT_ID tinyint,
    SCHEDULING_INFO varchar(31),
    SERVICE_NODE varchar(12)
);

CREATE TABLE LOG_AggregationRules ( 
	AGGREGATION VARCHAR(255) NULL, 
	RULEID INT NULL, 
	TARGET_TYPE VARCHAR(50) NULL, 
	TARGET_LEVEL VARCHAR(50) NULL, 
	SOURCE_TYPE VARCHAR(50) NULL, 
	SOURCE_LEVEL VARCHAR(50) NULL, 
	RULETYPE VARCHAR(50) NULL, 
	AGGREGATIONSCOPE VARCHAR(50) NULL, 
	STATUS VARCHAR(50) NULL, 
	MODIFIED DATETIME NULL, 
	BHTYPE VARCHAR(50) NULL, 
	TARGET_TABLE VARCHAR(255) NULL, 
	SOURCE_TABLE VARCHAR(255) NULL 
);